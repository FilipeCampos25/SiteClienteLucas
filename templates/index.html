<!-- templates/index.html -->
{% extends "base.html" %}

{% block content %}
<!-- ===== HERO SECTION PREMIUM ===== -->
<section class="hero-section">
  <div class="hero-content">
    <div class="hero-text">
      <h1 class="hero-title">Cantoneiras e Perfis Met√°licos Premium</h1>
      <p class="hero-subtitle">Qualidade, durabilidade e confian√ßa em cada produto</p>
      <p class="hero-description">Fornecemos solu√ß√µes met√°licas de excel√™ncia para sua obra. Entrega r√°pida e atendimento personalizado.</p>
      <div class="hero-cta">
        <button class="btn-primary" onclick="document.getElementById('produtos').scrollIntoView({behavior: 'smooth'})">
          Explorar Produtos
        </button>
        <a href="{{ WHATSAPP_LINK }}" target="_blank" class="btn-secondary">
          Fale Conosco
        </a>
      </div>
    </div>
    <div class="hero-image">
      <div class="hero-placeholder">
        <svg width="100%" height="100%" viewBox="0 0 400 300" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="400" height="300" fill="#F5F5F5"/>
          <rect x="50" y="50" width="300" height="200" fill="#FF6200" opacity="0.1" rx="8"/>
          <text x="200" y="160" font-family="Arial" font-size="24" fill="#999" text-anchor="middle">Sua Imagem Aqui</text>
        </svg>
      </div>
    </div>
  </div>
</section>

<!-- ===== SE√á√ÉO DE DIFERENCIAIS ===== -->
<section class="differentials-section">
  <h2 class="section-title">Por Que Escolher a Cantoneira F√°cil?</h2>
  <p class="section-subtitle">Diferenciais que fazem a diferen√ßa na sua obra</p>
  <div class="differentials-grid">
    <div class="differential-card">
      <div class="card-icon">üèÜ</div>
      <h3 class="card-title">Qualidade Premium</h3>
      <p class="card-description">Materiais certificados e testados para m√°xima durabilidade</p>
    </div>
    <div class="differential-card">
      <div class="card-icon">üöö</div>
      <h3 class="card-title">Entrega R√°pida</h3>
      <p class="card-description">Log√≠stica eficiente para receber seu pedido no prazo</p>
    </div>
    <div class="differential-card">
      <div class="card-icon">üí∞</div>
      <h3 class="card-title">Melhor Custo-Benef√≠cio</h3>
      <p class="card-description">Pre√ßos competitivos sem abrir m√£o da qualidade</p>
    </div>
    <div class="differential-card">
      <div class="card-icon">üõ†Ô∏è</div>
      <h3 class="card-title">Atendimento Especializado</h3>
      <p class="card-description">Equipe pronta para tirar d√∫vidas e ajudar na escolha</p>
    </div>
  </div>
</section>

<!-- ===== SE√á√ÉO DE PRODUTOS ===== -->
<section id="produtos" class="produtos-section">
  <h2 class="section-title">Nossos Produtos</h2>
  <p class="section-subtitle">Explore nossa linha completa de cantoneiras e perfis met√°licos</p>

  <div class="grid-produtos" id="produtosGrid">
    {% for p in produtos %}
    <div class="card-produto">
      <div class="card-image-container">
        <img src="{{ p.imagem_url }}" alt="{{ p.nome }}" class="card-image" onerror="this.src='/static/images/placeholder.png'">
        <div class="card-badge">R$ {{ '%.2f' % p.valor }}</div>
      </div>
      <div class="card-content">
        <h3 class="card-title">{{ p.nome }}</h3>
        <div class="card-actions">
          <a href="/produto/{{ p.id }}" class="btn-view">Ver Detalhes</a>

          {# ===========================================================
             FIX CARRINHO DEFINITIVO:
             - Passa id (n√∫mero), nome e valor para o JS
             - Assim o carrinho N√ÉO depende de /api/produtos para renderizar
             =========================================================== #}
          <button
            class="btn-primary btn-add-cart"
            data-id="{{ p.id }}"
            data-nome="{{ p.nome }}"
            data-valor="{{ p.valor }}"
            onclick="adicionarCarrinho(this.dataset.id, this.dataset.nome, this.dataset.valor)"
          >
            Adicionar
          </button>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>

  {% if total_paginas and total_paginas > 1 %}
  <div class="pagination-wrapper">
    <div class="pagination">
      {% if pagina_atual > 1 %}
      <a class="page-btn" href="/?page={{ pagina_atual - 1 }}#produtos">‚Üê</a>
      {% else %}
      <span class="page-btn disabled">‚Üê</span>
      {% endif %}

      {% for p in paginacao %}
        {% if p is none %}
          <span class="page-ellipsis">‚Ä¶</span>
        {% else %}
          {% if p == pagina_atual %}
            <span class="page-btn active">{{ p }}</span>
          {% else %}
            <a class="page-btn" href="/?page={{ p }}#produtos">{{ p }}</a>
          {% endif %}
        {% endif %}
      {% endfor %}

      {% if pagina_atual < total_paginas %}
      <a class="page-btn" href="/?page={{ pagina_atual + 1 }}#produtos">‚Üí</a>
      {% else %}
      <span class="page-btn disabled">‚Üí</span>
      {% endif %}
    </div>
  </div>
  {% endif %}
</section>

<!-- ===== SE√á√ÉO SOBRE ===== -->
<section id="sobre" class="about-section">
  <h2 class="section-title">Sobre N√≥s</h2>
  <p class="section-subtitle">Conhe√ßa nossa hist√≥ria e compromisso com qualidade</p>
  <div class="about-content">
    <p>
      A Cantoneira F√°cil nasceu com o objetivo de fornecer cantoneiras e perfis met√°licos com qualidade,
      atendimento humano e foco na satisfa√ß√£o do cliente.
    </p>
  </div>
</section>

<!-- ===== SE√á√ÉO CONTATO ===== -->
<section id="contato" class="contact-section">
  <h2 class="section-title">Contato</h2>
  <p class="section-subtitle">Fale com a gente pelo WhatsApp</p>
  <div class="contact-actions">
    <a href="{{ WHATSAPP_LINK }}" target="_blank" class="btn-whatsapp-large">
      üí¨ Falar no WhatsApp
    </a>
  </div>
</section>
{% endblock %}
